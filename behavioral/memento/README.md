# 备忘录模式

浏览器前进与后退、撤销文档修改、数据库备份与恢复、游戏存盘载入、操作系统快照恢复、手机恢复出厂设置等操作稀松平常。

再深入到面向对象层面，我们知道当程序运行时一个对象的状态有可能随时发生变化，而当修改其状态时我们可以对其进行记录，如此便能够将对象恢复到任意记录的状态。备忘录模式正是采用这种理念，让历史重演。

备忘录模式（Memento Pattern）允许将对象在不暴露其内部状态的情况下捕获并存储这些状态，并在后续将对象恢复到先前的状态。备忘录模式通常由三个核心角色组成：发起人（Originator）、备忘录（Memento）、管理者（Caretaker）。在实际应用中，备忘录模式常用于实现撤销操作、历史记录功能等。

在备忘录模式中，主要包含以下几个角色：

- 发起人（Originator）：负责创建备忘录对象，可以根据需要将当前状态保存到备忘录中，或者从备忘录中恢复状态。
- 备忘录（Memento）：用于存储发起人的内部状态，可以包含多个状态属性，并提供读取和设置状态的方法。
- 管理者（Caretaker）：负责管理备忘录对象，可以保存和获取备忘录对象，但不会对备忘录对象的状态进行操作。
